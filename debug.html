<!DOCTYPE html>


<html lang="en">
  <head>
	<link rel="stylesheet" href="styles/index.css">
	<title>WAV to MIDI Converter</title>
  <link id="favicon" rel="icon" href="https://magenta.tensorflow.org/favicon.ico" type="image/x-icon">
  <!--<script>
    // Microphone access is disabled in Android for http.
    if (location.protocol != 'https:') {
      location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
    }
  </script>-->
  <script src="https://cdn.jsdelivr.net/npm/@magenta/music@1.2"></script>
  <script src="./app.js" defer></script>
  </head>

    <body>

        <!-- Top Nav Bar -->
        <header class="header">
            <!--<a href="#" class="logo">Sound Converter</a>-->
            <img src="logo.png" class="logo">
            <button class="header__btn_open-topnav header__btn"><span class="icon-menu-open"></span></button>
            <ul class="topnav topnav_mobile_show">
              <button class="header__btn_close-topnav header__btn"><span class="icon-menu-close"></span></button>
              <li class="topnav__item">
                <a href="#" class="topnav__link">About</a>
              </li>
              <li class="topnav__item">
                <a href="#" class="topnav__link">Convert</a>
              </li>
              <li class="topnav__item">
                <a href="#" class="topnav__link">Audio Tools</a>
              </li>
              <li class="topnav__item">
                <a href="#" class="topnav__link">Utilities</a>
              </li>
            </ul>
          </header>

          <!-- Body -->
          <div class="page-body">
            
            <div class="title-body">
                <h1 class="title-h1">WAV to MIDI Converter</h1>
                <h3 class="title-h2">Converting WAV to MIDI files online is just 2 clicks away</h3>
            </div>

          </div>

          <div class="content-body">

            <div class="content-container">

            <div class="memoji-class">

              <img src="memoji2.jpg" class="memoji">

            </div>

            <div class="form-data">

              <p class="text-title">Let the conversion begin</p>

            <!--<form action="" class="form-body">
              <input type="file" id="upload" hidden/>
              <label for="upload" class="form-label">Choose file</label>
            </form>-->

            <div class="converter">
            <div class="box">
              <div class="top">
                <div id="modelLoading">
                  <span>Loading model...</span>
                </div>
                
                <div id="modelReady" hidden>
                  <div id="buttons">
                    <label class="button" id="btnUpload" disabled>
                      <span class="text">Upload file <input type="file" id="fileInput"></span></span>
                      <span class="loading">Transcribing...</span>
                    </label>
                    <button class="button" id="btnRecord" disabled>
                      <span class="text">Record audio</span>
                      <span class="loading">Transcribing...</span>
                    </button>
                  </div>
                  <div id="recordingError" hidden>Error</div>
                  <div id="iosError" hidden>Try on a different device </div>
                </div>  
              </div>   
              <div class="middle">
                <div id="players" hidden>
                  <button class="button player active" onclick="setActivePlayer(event, false)" id="pianoBtn">Piano</button>
                  <button class="button player" onclick="setActivePlayer(event, true)">Synth</button>
                </div>
                  
                <div id="transcribingMessage" hidden>
                  In progress...
                  
                  <div id="safariWarning" hidden>
                  </div>
                </div>
                
                <div class="container" id="container" hidden>
                  <canvas id="canvas"></canvas>
                </div>
                
                <div class="icon" id="playIcon" hidden >
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path xmlns="http://www.w3.org/2000/svg" d="M8 5v14l11-7z"/>
                    <path xmlns="http://www.w3.org/2000/svg" d="M0 0h24v24H0z" fill="none"/>
                  </svg>
                </div>
                <div class="icon" id="pauseIcon" hidden>
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path xmlns="http://www.w3.org/2000/svg" d="M0 0h24v24H0z" fill="none"/>
                    <path xmlns="http://www.w3.org/2000/svg" d="M6 6h12v12H6z"/>
                  </svg>
                </div>
                
                <button class="button save" onclick="saveMidi(event)" id="saveBtn" hidden>Save MIDI</button>
                
                <div id="help">
                  <p>
                    Select files for conversion or drag and drop them to the upload area.
                  </p>
                  <p>
                    Your files are securely protected and available only to you.
                  </p>
                  <p>
                    All files are automatically deleted from our servers after 1 hour.
                  </p>
                </div>
              </div>
            </div>
            </div>
          </div>
          </div>

          </div>

          <!-- Footer -->
          <div class="footer-container">

            <div class="footer-data">
            <p class="footer-copyright">&#169 All rights reserved by team 7</p>
            </div>

          </div>

          <script>
            if (!window.MediaRecorder) {
               document.write(decodeURI('%3Cscript src="./polyfill.js">%3C/script>'))
            }
           </script>
         
           <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js" defer></script>

    </body>
</html>
